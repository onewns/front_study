# 2021.02.09 Event

이전 글에서 자바스크립트가 DOM과 DOM 인터페이스를 이용해 요소에 접근하고 조작하는 방법에 대해 공부했습니다. 이러한 조작은 스크립트에 작성한 순서대로, 즉 절차적으로 작동시킬 수도 있지만 자바스크립트의 원래 목적인 사용자와 상호작용하는 동적인 웹 구현에 적절한 방식은 아닙니다. 자바스크립트는 정해진 순서 없이 다양한 방식으로 들어오는 사용자 입력에 반응하여 동작을 수행하기 위해서 이벤트 기반 방식으로 작동합니다.

이벤트 기반 프로그래밍과 자바스크립트의 이벤트에 대해 이해하고, 이벤트를 적절하게 다루는 것을 목표로 합니다.



### 1. 이벤트 기반이란?

- 이벤트란 프로그램에 의해 감지되고 처리되 수 있는 동작이나 사건입니다.
- `이벤트 기반`이란 이벤트를 감지하고 이에 반응하여 프로그램을 실행시키는 프로그래밍 방식 또는 아키텍처를 설명하기 위한 표현입니다. `발행-구독` 패턴을 기반으로 구현됩니다.
- 자바스크립트는 사용자 입력의 복잡성에 대응하기 위해 이벤트 기반 프로그래밍 모델을 사용합니다.
- DOM은 자바스크립트가 이벤트 기반으로 작동할 수 있는 플랫폼 역할을 합니다.



### 2. 자바스크립트에서의 이벤트

- 브라우저 환경 자바스크립트에서 이벤트는 DOM 내부의 객체입니다.
- 이벤트 카테고리에는 마우스 이벤트·키보드 이벤트 같은 사용자 액션 이벤트와, `load`· `unload` 등의 리소스 이벤트 외에도 미디어, 웹소켓, CSS 애니메이션 등 다양한 이벤트 등이 존재합니다.
- 모든 이벤트는 `Event` 인터페이스를 상속한 특정한 인터페이스를 구현합니다.
  예를 들어, `click` 이벤트는 `MouseEvent` 인터페이스를 구현하여 속성과 메서드를 상속받습니다.
- `Event` 인터페이스의 속성·메서드와 파생 인터페이스는 [MDN - Event](https://developer.mozilla.org/ko/docs/Web/API/Event)에서 확인할 수 있습니다.



### 2. 이벤트 핸들러

- DOM 요소에서 DOM 이벤트를 감지하고 반응하게 하기 위해서는 이벤트 핸들러를 부착해야합니다.

- DOM의 모든 요소는 노드 트리로 표현되며, `Node` 인터페이스를 상속받아 이를 구현합니다. 그리고 `Node`는 부모 인터페이스로 `EventTarget` 인터페이스를 상속받습니다.

- `EventTarget`의 메서드를 통해 DOM 요소에 특정 이벤트에 대한 핸들러를 설정·삭제하거나, 요소에 바로 이벤트를 `dispatch`할 수도 있습니다.

  ``` js
  const div = document.querySelector('.event-target');
  function onClickTarget(e) {
      console.log(e.target.innerText);
  }
  div.addEventListener('click', onClickTarget);
  div.reomveEventListener('click', onClick)
  ```

- `HTMLElement` 등의 인터페이스에서 제공하는 `onclick`, `onfocus`와 같은  `onevent` 속성을 이용해 이벤트 핸들러를 등록할 수도 있습니다.



---

### 참고자료

- [flaviscopes - JavaScript Event Explained](https://flaviocopes.com/javascript-events/)
- [rinae.dev - [번역] 초보 프론트엔드 개발자들을 위한 pub-sub 패턴 알아보기](https://rinae.dev/posts/why-every-beginner-front-end-developer-should-know-publish-subscribe-pattern-kr)